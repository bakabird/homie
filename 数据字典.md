# 数据字典

## 数据元素

名称：电器 EleEquipment

| 字段名             | 数据类型  | 默认值 | 允许非空 | 自动递增 | 外键 | 备注 |
| ------------------ | --------- | ------ | -------- | -------- | ---- | ---- |
| <u>电器编号 id</u> | int       | /      | no       | yes      | /    |      |
| 电器名 name        | string 15 | /      | no       | no       | /    |      |
| 电器工作状态 status        | enum | /      | no       | no       | /    | enum('On','Off', 'Standby','Breaken') |

名称：房间 Room

| 字段名             | 数据类型  | 默认值 | 允许非空 | 自动递增 | 外键 | 备注 |
| ------------------ | --------- | ------ | -------- | -------- | ---- | ---- |
| <u>房间编号 id</u> | int       | /      | no       | yes      | /    |      |
| 房间名 name        | string 15 | /      | no       | no       | /    |      |

名称：家庭成员 Member

| 字段名             | 数据类型  | 默认值 | 允许非空 | 自动递增 | 外键 | 备注 |
| ------------------ | --------- | ------ | -------- | -------- | ---- | ---- |
| <u>成员编号 id</u> | int       | /      | no       | yes      | /    |      |
| 成员名字 name      | string 15 | /      | no       | no       | /    |      |
| 密码 psw           | string 32 | /      | no       | no       | /    |      |

名称：室外温度 TemperatureOut

| 字段名           | 数据类型  | 默认值 | 允许非空 | 自动递增 | 外键 | 备注       |
| ---------------- | --------- | ------ | -------- | -------- | ---- | ---------- |
| <u>日期 date</u> | string 10 | /      | no       | no       | /    | YYYY:MM:DD |
| <u>时刻 time</u> | string 8  | /      | no       | no       | /    | HH:MM:SS   |
| 数值 value       | int       | /      | no       | no       | /    |            |

名称：空气质量 AirQuaity

| 字段名           | 数据类型  | 默认值 | 允许非空 | 自动递增 | 外键 | 备注       |
| ---------------- | --------- | ------ | -------- | -------- | ---- | ---------- |
| <u>日期 date</u> | string 10 | /      | no       | no       | /    | YYYY:MM:DD |
| <u>时刻 time</u> | string 8  | /      | no       | no       | /    | HH:MM:SS   |
| 数值 value       | int       | /      | no       | no       | /    |            |

## **数据表**

名称：房间温度 RoomTemp

| 字段名                  | 数据类型  | 默认值 | 允许非空 | 自动递增 | 外键     | 备注       |
| ----------------------- | --------- | ------ | -------- | -------- | -------- | ---------- |
| <u>房间编号 room_id</u> | string 10 | /      | no       | no       | Room(id) |            |
| <u>日期 date</u>        | string 10 | /      | no       | no       | /        | YYYY:MM:DD |
| <u>时刻 time</u>        | string 8  | /      | no       | no       | /        | HH:MM:SS   |
| 数值 value              | int       | /      | no       | no       | /        |            |


名称：房间连通 RoomAdjoin

| 字段名                         | 数据类型 | 默认值 | 允许非空 | 自动递增 | 外键     | 备注 |
| ------------------------------ | -------- | ------ | -------- | -------- | -------- | ---- |
| <u>房间编号  room_id</u>       | int      | /      | no       | no       | Room(id) |      |
| <u>连通房间编号 to_room_id</u> | int      | /      | no       | no       | Room(id) |      |

名称：房间内电器 RoomEleEqt

| 字段名                   | 数据类型 | 默认值 | 允许非空 | 自动递增 | 外键             | 备注 |
| ------------------------ | -------- | ------ | -------- | -------- | ---------------- | ---- |
| <u>房间编号  room_id</u> | int      | /      | no       | no       | Room(id)         |      |
| <u>电器编号 ele_id</u>   | int      | /      | no       | no       | EleEquipment(id) |      |

## 数据流

名称：电器工作日志 EleEqtWorkLog

数据流来源：电器

数据流去处：系统自检模块、用户查看电器状况

| 字段名                 | 数据类型   | 默认值 | 允许非空 | 自动递增 | 外键             | 备注             |
| ---------------------- | ---------- | ------ | -------- | -------- | ---------------- | ---------------- |
| <u>电器编号 ele_id</u> | int        | /      | no       | no       | EleEquipment(id) |                  |
| <u>日期 date</u>       | string 10  | /      | no       | no       | /                | YYYY:MM:DD       |
| <u>时刻 time</u>       | string 8   | /      | no       | no       | /                | HH:MM:SS         |
| 日志内容 body          | mediumtext | /      | no       | no       | /                | 使用Markdown格式 |

名称：指令记录 InstructionsLog

数据流来源：系统指令模块

数据流去处：电器

| 字段名                 | 数据类型  | 默认值 | 允许非空 | 自动递增 | 外键             | 备注                       |
| ---------------------- | --------- | ------ | -------- | -------- | ---------------- | -------------------------- |
| <u>电器编号 ele_id</u> | int       | /      | no       | no       | EleEquipment(id) |                            |
| <u>日期 date</u>       | string 10 | /      | no       | no       | /                | YYYY:MM:DD                 |
| <u>时刻 time</u>       | string 8  | /      | no       | no       | /                | HH:MM:SS                   |
| 行为 action            | tiny text | /      | no       | no       | /                | 使用UrlQuery格式来捎带数据 |

名称：成员登陆记录 MemberLoginRecord

数据流来源：用户使用客户端登录

数据流去处：系统

| 字段名             | 数据类型  | 默认值 | 允许非空 | 自动递增 | 外键             | 备注       |
| ------------------ | --------- | ------ | -------- | -------- | ---------------- | ---------- |
| <u>成员编号 id</u> | int       | /      | no       | no       | EleEquipment(id) |            |
| <u>日期 date</u>   | string 10 | /      | no       | no       | /                | YYYY:MM:DD |
| <u>时刻 time</u>   | string 8  | /      | no       | no       | /                | HH:MM:SS   |

名称：环境舒适值 Confort

数据流来源：用户于客户端设置

数据流去处：家居环境调节模块

| 字段名                 | 数据类型  | 默认值 | 允许非空 | 自动递增 | 外键 | 备注 |
| ---------------------- | --------- | ------ | -------- | -------- | ---- | ---- |
| <u>环境值名称 name</u> | string 15 | /      | no       | no       | /    |      |
| 数值 value             | int       | /      | no       | no       | /    |      |

